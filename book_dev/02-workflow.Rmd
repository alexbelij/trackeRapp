# Workflow

```{r global_options, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
```

In this chapter, we will demonstrate the tools a user has to interact with the **trackeRapp**.

## Upload data

The user can select both a path to a processed file and a raw file. The **trackeRapp** then automatically merges all the sessions after processing raw files. The **trackeRapp** removes any duplicated sessions that might occur. This allows the user to constantly add new raw sessions and merge those with previous already processed sessions without any repeated calculations.

### Upload raw data

Raw data is defined as data from a GPS-enabled tracking device saved in a common format. The **trackeRapp** package supports reading files in the following formats: TCX, GPX, JSON and DB3. 

```{r}
embed_youtube("9hKUl3Pg1So", width = '650', height = '365.63') %>% div(align = 'center') 
```

### Upload processed data

Processed data is a file in an _rds_ format, which is a _trackeRdata_ object generated using the _R_ programming language. It is also the file that is generated if a user downloads the processed data through the **trackeRapp**. The user can upload the downloaded processed file to the **trackeRapp** allowing to save processing time. 

```{r}
embed_youtube("PqXC1zrdLWQ", width = '650', height = '365.63') %>% div(align = 'center') 
```

## Download data

In order for the user to avoid re-processing the same raw data file each time they use the interface, the **trackeRapp** enables downloading the processed data by clicking on the _Download processed data button_. The downloaded file is in an _rds_ format and named using the current date (e.g., "trackeRapp_data-2018-02-18.RData"). The user can upload the downloaded file next time they use the **trackeRapp**, as well as for analysis in R using the __trackeR__ package (@trackeR).


```{r}
embed_youtube("Q6J98930l4k", width = '650', height = '365.63') %>% div(align = 'center') 
```

## Session selection 

The workout timeline (\@ref(fig:timelinePlot)), the session summaries plots (\@ref(fig:sessionSummaries)), the map (\@ref(fig:map)), the sport identification ( \@ref(fig:sportClassification)) and the summary table of selected sessions (\@ref(fig:summarySelectedSessions)) all enable the selection of sessions. The user is able to select sessions in the plots in two ways - a box and lasso selection. The box selection selects sessions using a rectangular box of any size and all the sessions within the box will be selected. Lasso selection is very useful when the user wants to select specific sessions. These methods allow comparison and analysis of any sessions of interest. Session selection can be reset by cliking the _Reset session selection_ button at the top of the page. 
The session selection methods are demonstrated in the video below. 


```{r}
embed_youtube("CiQpR-QmBKs", width = '650', height = '365.63') %>% div(align = 'center') 
```

## Select variables to plot

The **trackeRapp** lets the user adjust the interface by selecting which variables to plot. The user is able to change the selection at any point and the interface automatically updates. 

```{r}
embed_youtube("RgphETRFWt0", width = '650', height = '365.63') %>% div(align = 'center') 
```


## Change units

The user is often interested in displaying their data in various units of measurement and so the **trackeRapp** was designed for the user to be able to display and change the units of measurement of any of the variables at any point whilst using **trackeRapp**.
All the plots and summaries are automatically updated once the _Apply_ button is clicked. The modal dialog interface with radio buttons was designed to clearly display which units of measurement are currently selected, as well as all the other units of measurement available for each variable.


```{r}
embed_youtube("h5L-vVgFt88", width = '650', height = '365.63') %>% div(align = 'center') 
```


## Changepoint detection

As explained in Section \@ref(changepointDetection), the user is able to detect changes within a
session for the available variables. 

```{r}
embed_youtube("2HYbgF6HGJQ", width = '650', height = '365.63') %>% div(align = 'center') 
```



